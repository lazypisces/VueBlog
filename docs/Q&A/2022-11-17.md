---
description: 說明自動計算得出的結果為什麼會有 1 元的誤差
date: 2022-11-17
category:
 - 台股版
 - 交易紀錄
 - 券商與分類
tag: 
 - 未實現損益
 - 已實現損益
 - 零股
 - 手續費
---

### 前言

  因為各券商手續費折讓比例與計算時的進位方式不同，為了更加準確的計算持有成本而設計「可輸入不同卷商功能」與為了計算精準誤差盡量趨近 0 而設計了手續費可選擇計算時的「進位方式」

### 如何知道手續費計算方式是麼進位?

  參考 [常見問題Q&A > 如何知道券商手續費的計算進位方式?](2022-11-16.md)

# 1 元的誤差

  在以下幾種情況在計算過程中會有 1 元的誤差
  - [進位問題](#進位問題)
  - [零股](#零股)

### 進位問題

  ::: tip 這是屬於手續費進位問題
  :::
  在「未實現損益」「已實現損益」

  因為是多筆加總，因此加總後可能會有誤差屬正常現象

  ::: info 舉例
  買進 已經四捨五入 賣出 也四捨五入

  但實際損益的公式是全部一起算才四捨五入

  買 1000 股 68.5 元 + 手續費 = `68524` 元

  賣 1000 股 71.1 元 + 手續費 = `70862` 元

  計算差額 = `2338` 元

---

  #### 實際上

  買進 = `68524.4` 元

  賣出 = `70861.6` 元

  計算差額 = `2337.2` 元 > 四捨五入 `2337` 元
  
  `2337` 元與 `2338` 元這裡就會產生 `1`元 的誤差
  :::
  
### 零股

  經詢問券商後，確認零股的部分這 1 元的差異是因為
  零股在交易時會因多次交易造成價差，且無法確定哪次交易會產生 1 元價差

  ::: info 舉例
  對 A 檔股票下單 20.5 元 買 500 股
  搓合的過程可能是分三次成交
  100 股 + 250 股 + 150 股 = 500 股
  最後加總
  並在這過程中將會產生的價差 (原理同未實現損益)
  :::

  > 因此當此情況發生時，只能在交易紀錄的部分直接手動更改 支出 or 收入 欄位的數字
